import{T as L}from"./ToastMessage-4rpGS7ed.js";import{_ as f,r as c,o as d,c as m,a as t,b as w,w as r,d as i,e as T,m as C,f as M,n as y,g as l,F as x,h as R,t as u,i as A,v as D,j as N}from"./index-emLtRGxt.js";import{u as v}from"./cartStore-pN3ZmjFa.js";import{c as q}from"./collapseMixin-sayVBdvl.js";import{L as V}from"./LoadingComponent-IeJUYtMv.js";import{m as j}from"./modalMixin-9xPrreaO.js";import{D as F,a as S}from"./DelModal-SJRFoBrD.js";import"./axios-RRQbb5W4.js";import"./selector-engine-zqAueP_Z.js";const I={data(){return{token:""}},methods:{check(){this.token=document.cookie.replace(/(?:(?:^|.*;\s*)hexSchool\s*=\s*([^;]*).*$)|^.*$/,"$1")}},created(){this.check()}},B={class:"bg-dark",style:{"box-shadow":"0px 0px 15px rgb(255, 255, 255,0.4)"}},E={class:"container text-light text-opacity-75"},P=T('<div class="row p-3"><div class="col d-none d-lg-block"><div class="row align-items-center"><div class="col-2"><img src="https://i.ibb.co/yhvPMy0/P8dLxqq.webp" alt=""></div><div class="col-8"><p class="m-0 text-letter" style="text-align:justify;"> 無論您是喜歡精彩電影、迷人劇集還是令人驚歎的紀錄片，CINEMA都能滿足您的所有需求。我們提供最新、最熱門的影視內容，給您帶來極致的觀影體驗。 </p></div></div></div><div class="col-lg-5 col-12"><ul class="list-unstyled"><li class="fs-4 mb-2">Find ME .</li><li class="mb-lg-2 mb-3 text-letter"><i class="bi bi-clock-history me-2 fs-5"></i>Monday – Friday <br class="d-block d-lg-none"> 9 am-12 pm / 1 pm-6 pm</li><li class="mb-lg-2 mb-3 text-letter"><a href="mailto: service@123456.com" class="text-reset text-decoration-none"><i class="bi bi-envelope me-2 fs-5"></i>service@123456.com </a></li><li class="mb-lg-2 mb-3 text-letter"><a href="tel:0912345678" class="text-reset text-decoration-none"><i class="bi bi-telephone-fill me-2 fs-5"></i>0912345678 </a></li><li class="mb-lg-2 mb-3 text-letter">可透過客服信箱 / 訂單留言 / 臉書私訊<br class="d-block d-lg-none"> 與 客服聯絡</li></ul></div></div>',1),U={class:"d-flex justify-content-between align-items-center border-top p-3"},z={class:"list-unstyled d-flex align-items-center m-0"},G=T('<li class="me-3"><i class="bi bi-instagram fs-5"></i></li><li class="me-3"><i class="bi bi-twitter fs-5"></i></li><li class="me-3"><i class="bi bi-facebook fs-5"></i></li>',3),H=t("p",{class:"m-0 text-center text-letter"},"個人作業使用，無商業行為",-1);function Q(e,o,p,k,_,a){const n=c("RouterLink");return d(),m("footer",B,[t("div",E,[P,t("div",U,[t("ul",z,[G,t("li",null,[_.token===""?(d(),w(n,{key:0,to:"/login",class:"btn-outline-light btn border-0"},{default:r(()=>[i("登入後台")]),_:1})):(d(),w(n,{key:1,to:"/admin/product",class:"btn-outline-light btn border-0"},{default:r(()=>[i("進入後台")]),_:1}))])]),H])])])}const Y=f(I,[["render",Q]]),J={components:{LoadingComponent:V,DelAllModal:F,DelModal:S},mixins:[j],data(){return{tempCart:{},productID:""}},methods:{...C(v,["getCart","removeCartAll","removeCartItem","changeCartQty"]),openRemoveAllModal(){this.$refs.delAllModal.openModal()},closeRemoveAllModal(){this.removeCartAll(),this.$refs.delAllModal.hideModal()},openRemoveModal(e){this.productID=e;const o=this.carts.find(p=>p.id===e);this.tempCart=o.product,console.log(this.tempCart),this.$refs.delModal.openModal()},closeRemoveModal(e){this.removeCartItem(e),this.$refs.delModal.hideModal()}},computed:{...M(v,["carts","total","isLoading"])}},K={class:"modal right fade",ref:"modal",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel"},O={class:"modal-dialog modal-dialog-scrollable"},W={class:"modal-content bg-dark text-light"},X={class:"modal-header"},Z=t("h4",{class:"modal-title border-3 border-bottom border-danger",id:"exampleModalLabel"},"購物清單",-1),tt={class:"d-flex"},et=t("div",{class:"btn btn-outline-light","data-bs-dismiss":"modal","aria-label":"Close"}," 關閉 ",-1),st={class:"modal-body pt-0"},ot={key:0,class:"position-absolute w-100 top-50 start-50 translate-middle d-flex flex-column justify-content-center align-items-center"},lt=t("p",{class:"fs-4 py-2"},"目前沒有訂單唷！！",-1),nt={key:1,class:"list-unstyled m-0"},at=["src"],it={class:"col d-flex flex-column justify-content-between w-100"},dt={class:"d-flex justify-content-between"},ct={class:"m-0"},rt=["onClick"],mt={class:"d-flex align-items-center justify-content-between"},pt={class:"d-flex"},_t={class:"m-0"},bt={class:"ms-2"},ht={class:"d-flex align-items-center"},ut=["disabled","onClick"],vt=t("i",{class:"bi bi-dash"},null,-1),gt=[vt],ft=["onUpdate:modelValue"],kt=["onClick"],$t=t("i",{class:"bi bi-plus"},null,-1),xt=[$t],yt={class:"modal-footer"},Ct={key:0,class:"d-flex flex-column"},Mt=t("p",{class:"m-0"},"總金額",-1),wt={class:"m-0"};function Tt(e,o,p,k,_,a){const n=c("RouterLink"),g=c("LoadingComponent"),b=c("DelAllModal"),h=c("DelModal");return d(),m(x,null,[t("div",K,[t("div",O,[t("div",W,[t("div",X,[Z,t("div",tt,[t("div",{class:y(["btn btn-outline-light me-lg-2 me-1",{disabled:e.carts.length===0}]),onClick:o[0]||(o[0]=(...s)=>a.openRemoveAllModal&&a.openRemoveAllModal(...s))},"清除全部",2),et])]),t("div",st,[e.carts.length===0?(d(),m("div",ot,[lt,l(n,{to:"/products",onClick:o[1]||(o[1]=s=>e.hideModal()),class:"btn btn-outline-light f-5 w-50"},{default:r(()=>[i("前往電影選單")]),_:1})])):(d(),m("ul",nt,[(d(!0),m(x,null,R(e.carts,s=>(d(),m("li",{class:"row py-2 border-bottom",key:s.id},[t("img",{style:{width:"80px"},class:"col-2",src:s.product.imageUrl,alt:""},null,8,at),t("div",it,[t("div",dt,[t("p",ct,u(s.product.title),1),t("i",{class:"bi bi-x-circle fs-5",style:{cursor:"pointer"},onClick:$=>a.openRemoveModal(s.id)},null,8,rt)]),t("div",mt,[t("div",pt,[t("p",_t,"NT$ "+u(s.total),1),t("span",bt," / "+u(s.product.unit),1)]),t("div",ht,[t("button",{type:"button",class:"btn btn-outline-light border-0",disabled:s.qty===1,onClick:$=>{s.qty--,e.changeCartQty(s.id,s.qty)}},gt,8,ut),A(t("input",{style:{width:"32px"},class:"text-center border-0 bg-dark text-light",type:"text",readonly:"",value:"1",min:"1","onUpdate:modelValue":$=>s.qty=$},null,8,ft),[[D,s.qty]]),t("button",{type:"button",class:"btn btn-outline-light border-0",onClick:$=>{s.qty++,e.changeCartQty(s.id,s.qty)}},xt,8,kt)])])])]))),128))]))]),t("div",yt,[t("div",{class:y(["d-flex w-100 justify-content-end align-items-center",{"justify-content-between":e.carts.length!==0}])},[e.carts.length!==0?(d(),m("div",Ct,[Mt,t("p",wt,"NT$ "+u(e.total),1)])):N("",!0),l(n,{to:"/cart",class:y(["btn btn-outline-light",{disabled:e.carts.length===0}]),onClick:o[2]||(o[2]=s=>e.hideModal())},{default:r(()=>[i("前往購物車")]),_:1},8,["class"])],2)])])])],512),l(g,{active:e.isLoading,"onUpdate:active":o[3]||(o[3]=s=>e.isLoading=s),id:"cartModal"},null,8,["active"]),l(b,{onRemoveData:a.closeRemoveAllModal,ref:"delAllModal"},null,8,["onRemoveData"]),l(h,{"out-item":_.tempCart,onRemoveData:o[4]||(o[4]=s=>a.closeRemoveModal(this.productID)),ref:"delModal"},null,8,["out-item"])],64)}const Lt=f(J,[["render",Tt]]),Rt={mixins:[q],components:{CartModal:Lt},data(){return{token:""}},methods:{...C(v,["getCart"]),check(){this.token=document.cookie.replace(/(?:(?:^|.*;\s*)hexSchool\s*=\s*([^;]*).*$)|^.*$/,"$1")},openCartModal(){this.$refs.cartModal.openModal()}},computed:{...M(v,["carts"])},created(){this.check(),this.getCart()}},At={id:"headerNav",class:"navbar navbar-expand-lg navbar-dark bg-dark text-light p-3 position-sticky top-0 w-100",style:{"z-index":"10","box-shadow":"0px 0px 15px rgb(255, 255, 255,0.4)"}},Dt={class:"container-fluid px-0 px-lg-3"},Nt=t("img",{src:"https://i.ibb.co/yhvPMy0/P8dLxqq.webp",alt:""},null,-1),qt={class:"d-flex"},Vt=t("span",{class:"navbar-toggler-icon"},null,-1),jt=[Vt],Ft=t("i",{class:"bi bi-film fs-3"},null,-1),St={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},It=t("span",{class:"visually-hidden"},"unread messages",-1),Bt={class:"collapse navbar-collapse",ref:"navbar"},Et={class:"navbar-nav me-auto mb-2 mb-lg-0 d-block d-md-none"},Pt={class:"nav-item"},Ut={class:"nav-item"},zt={class:"nav-item"},Gt={class:"d-none d-md-flex w-100"},Ht={class:"navbar-nav me-auto mb-2 mb-lg-0"},Qt=t("li",{class:"nav-item my-3 position-relative d-block d-lg-none"},[t("input",{type:"text",name:"",id:"",class:"form-control py-1 px-3 m-lg-1 fs-7 rounded-pill",placeholder:"請輸入標題或分類"}),t("a",{href:"#",class:"nav-link position-absolute end-0 top-50 translate-middle-y searchIcon"},[t("i",{class:"bi bi-search text-dark fs-5"})])],-1),Yt={class:"nav-item"},Jt={class:"nav-item"},Kt={class:"nav-item"},Ot={class:"navbar-nav d-none d-lg-flex"},Wt={class:"nav-item"},Xt=t("i",{class:"bi bi-film fs-3"},null,-1),Zt={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},te=t("span",{class:"visually-hidden"},"unread messages",-1);function ee(e,o,p,k,_,a){var b,h;const n=c("RouterLink"),g=c("CartModal");return d(),m(x,null,[t("nav",At,[t("div",Dt,[l(n,{class:"navbar-brand",to:"/"},{default:r(()=>[Nt]),_:1}),t("div",qt,[t("button",{class:"navbar-toggler border-0",type:"button",onClick:o[0]||(o[0]=(...s)=>e.bsToggle&&e.bsToggle(...s))},jt),t("a",{href:"#",class:"btn btn-outline-light border-0 border-none position-relative d-block d-lg-none",onClick:o[1]||(o[1]=(...s)=>a.openCartModal&&a.openCartModal(...s))},[Ft,t("span",St,[i(u((b=this.carts)==null?void 0:b.length)+" ",1),It])])]),t("div",Bt,[t("ul",Et,[t("li",Pt,[l(n,{class:"nav-link","aria-current":"page",to:"/about",onClick:e.bsToggle},{default:r(()=>[i("關於我們")]),_:1},8,["onClick"])]),t("li",Ut,[l(n,{class:"nav-link",to:"/products",onClick:e.bsToggle},{default:r(()=>[i("電影種類")]),_:1},8,["onClick"])]),t("li",zt,[l(n,{class:"nav-link",to:"/faq",onClick:e.bsToggle},{default:r(()=>[i("常見問題")]),_:1},8,["onClick"])])]),t("div",Gt,[t("ul",Ht,[Qt,t("li",Yt,[l(n,{class:"nav-link","aria-current":"page",to:"/about"},{default:r(()=>[i("關於我們")]),_:1})]),t("li",Jt,[l(n,{class:"nav-link",to:"/products"},{default:r(()=>[i("電影種類")]),_:1})]),t("li",Kt,[l(n,{class:"nav-link",to:"/faq"},{default:r(()=>[i("常見問題")]),_:1})])]),t("ul",Ot,[t("li",Wt,[t("div",{class:"btn btn-outline-light border-0 border-none position-relative p-0 px-2",onClick:o[2]||(o[2]=(...s)=>a.openCartModal&&a.openCartModal(...s))},[Xt,t("span",Zt,[i(u((h=this.carts)==null?void 0:h.length)+" ",1),te])])])])])],512)])]),l(g,{ref:"cartModal"},null,512)],64)}const se=f(Rt,[["render",ee]]),oe={methods:{...C(v,["getCart"]),toTop(){window.scrollTo({behavior:"smooth",top:0})}},computed:{...M(v,["carts"])},mounted(){this.getCart();const e=document.querySelector(".toTop");window.addEventListener("scroll",()=>{window.scrollY>=50?e.classList.add("toTop--show"):e.classList.remove("toTop--show")})}},le={class:"position-fixed toTop d-flex flex-column",style:{"z-index":"10"}},ne=t("i",{class:"bi bi-caret-up-fill"},null,-1),ae=[ne];function ie(e,o,p,k,_,a){return d(),m("div",le,[t("div",{class:"fs-5 btn btn-outline-light border-0 mb-lg-0 mb-3",onClick:o[0]||(o[0]=(...n)=>a.toTop&&a.toTop(...n))},ae)])}const de=f(oe,[["render",ie]]),ce={components:{FooterNav:Y,HeaderNav:se,GoToTop:de,ToastMessages:L},data(){return{token:""}},methods:{check(){this.token=document.cookie.replace(/(?:(?:^|.*;\s*)hexSchool\s*=\s*([^;]*).*$)|^.*$/,"$1")}},created(){this.check()}};function re(e,o,p,k,_,a){const n=c("HeaderNav"),g=c("RouterView"),b=c("FooterNav"),h=c("GoToTop"),s=c("ToastMessages");return d(),m(x,null,[l(n),l(g,{class:"bg-dark"}),l(b),l(h),l(s)],64)}const ke=f(ce,[["render",re]]);export{ke as default};
